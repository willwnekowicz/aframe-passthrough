!function(e){function t(r){if(i[r])return i[r].exports;var a=i[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");i(1),AFRAME.registerComponent("passthrough",{schema:{},multiple:!1,init:function(){var e=this,t=function(t){var i=document.createElement("video");i.setAttribute("id","passthroughVideo"),i.setAttribute("autoplay",!0),i.setAttribute("width","640"),i.setAttribute("height","480"),i.setAttribute("src","");var r=document.getElementsByTagName("a-assets")[0];r.appendChild(i);var a=e.el;a.setAttribute("src","#passthroughVideo");var o={video:{optional:[{sourceId:t}]}},n=t?o:{video:!0},s=function(e){console.log("An error has occurred!",e)};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(n).then(function(e){i.src=window.URL.createObjectURL(e),i.play()}):navigator.getUserMedia?navigator.getUserMedia(n,function(e){i.src=e,i.play()},s):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(n,function(e){i.src=window.webkitURL.createObjectURL(e),i.play()},s):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(n,function(e){i.src=window.URL.createObjectURL(e),i.play()},s)},i=function(e){for(var i,r=0;r!=e.length;++r){var a=e[r];"video"==a.kind&&"environment"==a.facing&&(i=a.id)}t(i)};MediaStreamTrack?MediaStreamTrack.getSources(i):t(null)}})},function(e,t){var i=AFRAME.utils.extendDeep,r=AFRAME.primitives.getMeshMixin();AFRAME.registerPrimitive("a-passthrough",i({},r,{defaultComponents:{passthrough:{},position:"0 0 -20",geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,width:16,height:9}},mappings:{height:"geometry.height",width:"geometry.width"}}))}]);